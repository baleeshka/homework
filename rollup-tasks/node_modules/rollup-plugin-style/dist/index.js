/* eslint-disable */
/*!
 * Build version v0.1.0
 * Create by lanyue@qq.com
 * Created at Sun Mar 24 2019 12:01:38 GMT+0800 (GMT+08:00)
 */
"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var _regeneratorRuntime=_interopDefault(require("@babel/runtime/regenerator")),_asyncToGenerator=_interopDefault(require("@babel/runtime/helpers/asyncToGenerator")),path=_interopDefault(require("path")),fs=_interopDefault(require("fs")),mkdirp=_interopDefault(require("mkdirp")),rollupPluginutils=require("rollup-pluginutils");function plugin(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};function s(e){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var r,n;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],e.t0=_regeneratorRuntime.keys(t);case 2:if((e.t1=e.t0()).done){e.next=13;break}if(n=e.t1.value,e.t2=t[n].code,e.t2)return e.t3=r,e.next=9,o.compile(t[n].code,t[n].extname);e.next=11;break;case 9:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 11:e.next=2;break;case 13:return e.abrupt("return",r.join(""));case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}o.include=o.include||["**/*.css"],o.exclude=o.exclude||[],o.output=o.output||"inline",o.compile=o.compile||function(){var r=_asyncToGenerator(_regeneratorRuntime.mark(function e(t,r){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}},e,this)}));return function(e,t){return r.apply(this,arguments)}}();var n,r,e,u=rollupPluginutils.createFilter(o.include,o.exclude),c={};return{name:"style",intro:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("style"!==o.output)return e.abrupt("return",null);e.next=2;break;case 2:return e.next=4,s(c);case 4:return t=e.sent,e.abrupt("return","\n        ;(function () {\n          function __insertStyle (css) {\n            var style = document.createElement('style')\n            style.innerHTML = css\n            style.type = 'text/css'\n            document.head.appendChild(style)\n          };\n          __insertStyle(".concat(JSON.stringify(t),");\n        })();\n      "));case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)}),transform:(r=_asyncToGenerator(_regeneratorRuntime.mark(function e(t,r){var n;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u(r)){e.next=2;break}return e.abrupt("return");case 2:if(n=path.extname(r),"inline"===o.output)return e.t0=JSON,e.next=7,o.compile(t,n);e.next=12;break;case 7:return e.t1=e.sent,e.t2=e.t0.stringify.call(e.t0,e.t1),e.t3="export default "+e.t2,e.t4={mappings:""},e.abrupt("return",{code:e.t3,map:e.t4});case 12:return c[r]!==t&&(c[r]={extname:n,code:t}),e.abrupt("return","");case 14:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)}),generateBundle:(n=_asyncToGenerator(_regeneratorRuntime.mark(function e(t,r,n){var u,a,i;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("inline"===o.output)return e.abrupt("return",null);e.next=2;break;case 2:return e.next=4,s(c);case 4:if(u=e.sent,"file"!==o.output)return e.abrupt("return",null);e.next=7;break;case 7:return a=o.dest?o.dest:t.file.replace(path.extname(t.file),".css"),i=path.dirname(a),e.abrupt("return",new Promise(function(t,r){mkdirp(i,function(e){e&&r(e),fs.writeFile(a,u,function(e){e&&r(e),t()})})}));case 10:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})}}module.exports=plugin;
